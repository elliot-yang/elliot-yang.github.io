---
title: 文本编辑器Vi内部命令
date: 2020-03-26 15:39:14
tags:
    - linux
---

经常碰到需要在Linux服务器上修改文件或者查找日志的情况, 没有图形界面的情况下只好使用vi,使用的过程中发现了很多vi强大的功能点.  

<!--more-->

### 基础用法  
使用命令`vi xxx.config`打开文件, 按下i开始插入模式编辑,a开始追加模式编辑,按下ESC退出编辑.

### 查找内容
首先需要退出编辑模式,输入`/2020-03-26`回车之后就会自动找寻`2020-03-26`内容,找到内容后继续操作n(下一个结果)\N(前一个结果)  

### 替换内容
语法为: `:[addr]s/源字符串/目的字符串/[option]`
- 字符串支持正则表达式
- \[addr]: 代表检索范围  
    - "1, 100" 代表1到100行  
    - "%" 代表全文  
    - "., $" 代表当前行到文件结束  
- \[option]: 代表操作类型  
    - 默认: 对每行第一个匹配字符串进行替换  
    - g: 全局  
    - c: 表示进行确认  
    - p: 替换结果逐行显示(Ctrl + L恢复编辑)  
首先需要退出编辑模式,输入`:%s/date/newDate/g`,表示将全文的date字符串替换为newDate  

### 总结
vi能满足大部分的普通编辑需求,相对来说应该是命令行模式比较好用的编辑器,另外更详细的文档可以参照[vi详解](https://www.runoob.com/linux/linux-vim.html)